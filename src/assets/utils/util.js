export default{
    exportHtml(e){
        
        return "<!DOCTYPE html>      <html>                <head>            <meta charset='UTF-8'>            <title>设备测试</title>            <script src='http://libs.baidu.com/jquery/2.0.0/jquery.min.js'></script>        </head>        <body>"+e+
        "</body>        <script>            var FLAG = 'false';            getCmdParams = function(thisDom){                    var operation =  $('#operation').val();                    var paramsArray = $('#paramsForm').serializeArray();                    var map = {};                    $.each(paramsArray, function () {                        map[this.name] = this.value                    });                    var array =  {                        operation:operation,                        controlParams:map                    };                    return array;                };                         commonSend = function(event) {                    if(FLAG === 'false'){                        var serial_num = $('#serial_num').val();                        var product_code = $('#product_id').attr('data-code');                        var operation = event.target.getAttribute('data-cmdName');//cmd_name                        var paramsArray = $('#paramsForm').serializeArray();                        var token = $('#token').val();                        var url = $('#url').val();                        var account = $('#account').val();                        var flag = true;                        $.each(paramsArray, function () {                            //做参数验证暂时做非空验证                            if (this.value == '') {                                var param_name = $('#' + this.name).parent().prev().text();                                msg(param_name + '不能为空', '#' + button.id);                                flag = false;                                return false;                            }                        });                        //参数验证通过发送指令                        if (flag) {                            var params = $('#paramsForm').serializeObject();                            $.ajax({                                url: url,                                data: JSON.stringify({                                    serial_num: serial_num,                                    productId: product_code,                                    operation: operation,                                    controlParams: encodeURIComponent(JSON.stringify(params)),                                    account: account                                }),                                async: true,                                dataType: 'json',                                contentType: 'application/json',                                type: 'post',                                success: function (data) {                                    if (data.code === 0||data.code === '0') {                                        msg('操作成功,' + JSON.stringify(data));                                    } else if (data.code == '-2') {                                        msg('设备无应答');                                    } else if (data.code == 'AA') {                                        msg('发送控制指令失败' );                                    } else {                                        msg('控制失败,' + data.message)                                    }                                }                            })                        }                    }                }            function getField(flag,array,json){                FLAG = flag;                $('#serial_num').val(json.serial_num);                $('#url').val(json.url);                $('#account').val(json.account);            }            $.fn.serializeObject = function () {                var o = {};                var a = this.serializeArray();                $.each(a, function () {                    if (o[this.name]) {                        if (!o[this.name].push) {                            o[this.name] = [o[this.name]];                        }                        o[this.name].push(this.value || '');                    } else {                        o[this.name] = this.value || '';                    }                });                return o;            };            function msg(status) {                $('#msgBox').show()                $('#msgBox').val(status)            }        </script>        </html>"    }

            
        }